# Search (条件查询组件)

<hr/>

#### 示例

```tsx
import Search from '@/components/Search';

const App = () => {
  return (
    <Search
      items={[
        { type: 'Input', name: 'title', label: '标题' },
        {
          type: 'Select',
          name: 'status',
          label: '状态',
          options: [
            { value: 1, label: '开启' },
            { value: 2, label: '关闭' }
          ]
        },
        { type: 'DatePicker', name: 'date', label: '日期' },
        { type: 'RangePicker', name: ['start', 'end'], label: '日期范围' }
      ]}
      onValuesChange={(values, changed) => {
        console.log('onValuesChange: ', values, changed);
      }}
      onSubmit={(values) => {
        console.log('onSubmit: ', values);
      }}
    />
  );
};
```

#### API

Search

| 参数       | 说明                                                            | 类型             | 默认值 |
| ---------- | --------------------------------------------------------------- | ---------------- | ------ |
| labelWidth | label 宽度                                                      | number           | 80     |
| form       | 需要控制 Form 表单值时，可传入`Form.useForm()`创建的实例        | FormInstance     | -      |
| items      | 表单内容                                                        | ItemType[]       | -      |
| onSubmit   | 输入框按下 enter、选择框、日期修改值, 搜索，重置 均会触发此函数 | function(values) | -      |

<hr />

ItemType

> type NodeType = 'Input' | 'Select' | 'DatePicker' | 'RangePicker'

| 参数         | 说明                                                                                             | 类型                                            | 默认值 |
| ------------ | ------------------------------------------------------------------------------------------------ | ----------------------------------------------- | ------ |
| type         | 组件类型                                                                                         | NodeType                                        | -      |
| name         | 字段名。如果组件为`日期范围`，可传入[startName, endName]，回调传回的表单值中，会直接格式化日期值 | string \| [string, string]                      | -      |
| label        | 标签的文本                                                                                       | string                                          | -      |
| placeholder  | 占位符文本                                                                                       | String                                          | -      |
| options      | Select 的下拉选项                                                                                | DictType                                        | []     |
| onChange     | 监听值的改变，优先级高于组件：onSubmit                                                           | function(value: (string \| number) \| string[]) | -      |
| onPressEnter | 单个输入框的回车事件，优先级高于组件：onSubmit                                                   | function(value)                                 | -      |

> 提示：
>
> 配置项如果是`Select`，并且下拉项是通过接口查询，建议使用`useMemo`返回配置项，减少被重复创建的次数

::: tip
配置项如果是`Select`，并且下拉项是通过接口查询，建议使用`useMemo`返回配置项，减少被重复创建的次数
:::

```tsx
import { useState, useMemo } from 'react';
import Search from '@/components/Search';

const App = () => {
  const [options, setOptions] = useState([]);

  useEffect(() => {
    fetch().then((res) => {
      setOptions(res);
    });
  }, []);

  const items = useMemo(
    () => [
      {
        type: 'Select',
        name: 'status',
        label: '状态',
        options
      }
    ],
    [options]
  );

  return <Search items={items} />;
};
```
